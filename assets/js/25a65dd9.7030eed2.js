"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[447],{7211:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>a,frontMatter:()=>c,metadata:()=>d,toc:()=>o});var s=t(5893),i=t(1151);const c={},r="Events",d={id:"events/Events",title:"Events",description:"This HiveMQ client has a large number of built in events to allow users to hook into any part of the client.",source:"@site/docs/events/Events.md",sourceDirName:"events",slug:"/events/",permalink:"/hivemq-mqtt-client-dotnet/docs/events/",draft:!1,unlisted:!1,editUrl:"https://github.com/hivemq/hivemq-mqtt-client-dotnet/tree/main/Documentation/docs/events/Events.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Lifecycle Events",permalink:"/hivemq-mqtt-client-dotnet/docs/category/lifecycle-events"},next:{title:"Overview",permalink:"/hivemq-mqtt-client-dotnet/docs/events/"}},l={},o=[{value:"Examples",id:"examples",level:2},{value:"Display Options Prior to Connecting",id:"display-options-prior-to-connecting",level:3},{value:"Taking Action After a Subscribe",id:"taking-action-after-a-subscribe",level:3},{value:"Monitoring outgoing Publish Packets",id:"monitoring-outgoing-publish-packets",level:3},{value:"Monitoring Subscribe Response Packets (SUBACK)",id:"monitoring-subscribe-response-packets-suback",level:3},{value:"List of Supported Events",id:"list-of-supported-events",level:2},{value:"General",id:"general",level:3},{value:"Packet Level",id:"packet-level",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.p,{children:"This HiveMQ client has a large number of built in events to allow users to hook into any part of the client."}),"\n",(0,s.jsx)(n.p,{children:"These events can be used to modify behavior, monitor activity or extend functionality."}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"The following serves as a few examples on how to utilize the built in event system."}),"\n",(0,s.jsx)(n.h3,{id:"display-options-prior-to-connecting",children:"Display Options Prior to Connecting"}),"\n",(0,s.jsx)(n.p,{children:"This one simply prints out the HiveMQClientOptions prior to the connect command being sent to the broker."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-C#",children:'using HiveMQtt.Client.Events;\n\nprivate static void BeforeConnectHandler(object? sender, BeforeConnectEventArgs eventArgs)\n{\n    if (sender is not null)\n    {\n        var client = (HiveMQClient)sender;\n        Console.WriteLine("Connecting to Broker with the Options: {}", eventArgs.Options)\n\n    }\n}\n\n// Later...\n\nvar client = new HiveMQClient();\n\nclient.BeforeConnect += BeforeConnectHandler;\nvar connectResult = await client.ConnectAsync().ConfigureAwait(false);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"taking-action-after-a-subscribe",children:"Taking Action After a Subscribe"}),"\n",(0,s.jsx)(n.p,{children:"Suppose you wanted to take some global action after every subscribe call made by the client."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-C#",children:'using HiveMQtt.Client.Events;\n\nprivate static void AfterSubscribeHandler(object? sender, AfterSubscribeEventArgs eventArgs)\n{\n    if (sender is not null)\n    {\n        var client = (HiveMQClient)sender;\n\n        // The result of the subscribe call\n        // eventArgs.SubcribeResult\n\n    }\n}\n\n// Later...\n\nvar client = new HiveMQClient();\n\nclient.BeforeConnect += BeforeConnectHandler;\nvar connectResult = await client.ConnectAsync().ConfigureAwait(false);\nvar subscribeResult = await client.SubscribeAsync("district/9/level", MQTT5.Types.QualityOfService.ExactlyOnceDelivery).ConfigureAwait(false);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"monitoring-outgoing-publish-packets",children:"Monitoring outgoing Publish Packets"}),"\n",(0,s.jsx)(n.p,{children:"The following can be used to monitor when publish packets are transmitted from the client.  A potential debug vector in application development."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-C#",children:'using HiveMQtt.Client.Events;\n\nprivate static void OnPublishSentHandler(object? sender, OnPublishSentEventArgs eventArgs)\n{\n    if (sender is not null)\n    {\n        var client = (HiveMQClient)sender;\n\n        // The transmitted MQTT Publish packet\n        // eventArgs.PublishPacket\n\n        // and the MQTT5PublishMessage\n        // eventArgs.PublishPacket.Message\n\n    }\n}\n\n// Later...\n\nvar client = new HiveMQClient();\nvar connectResult = await client.ConnectAsync().ConfigureAwait(false);\n\nclient.OnPublishSent += OnPublishSentHandler;\n\nvar result = await client.PublishAsync("district/7/count", "82", MQTT5.Types.QualityOfService.AtLeastOnceDelivery).ConfigureAwait(false);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"monitoring-subscribe-response-packets-suback",children:"Monitoring Subscribe Response Packets (SUBACK)"}),"\n",(0,s.jsx)(n.p,{children:"The following can be used to monitor SubAck responses from the broker"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-C#",children:'using HiveMQtt.Client.Events;\n\nprivate static void OnSubAckReceivedHandler(object? sender, OnSubAckReceivedEventArgs eventArgs)\n{\n    if (sender is not null)\n    {\n        var client = (HiveMQClient)sender;\n\n        // The received SubAck packet\n        // eventArgs.SubAckPacket\n    }\n}\n\n// Later...\n\nvar client = new HiveMQClient();\nvar connectResult = await client.ConnectAsync().ConfigureAwait(false);\nvar subResult = await client.SubscribeAsync("district/9/level", MQTT5.Types.QualityOfService.ExactlyOnceDelivery).ConfigureAwait(false);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"list-of-supported-events",children:"List of Supported Events"}),"\n",(0,s.jsx)(n.h3,{id:"general",children:"General"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Event"}),(0,s.jsx)(n.th,{children:"EventArgs Class"}),(0,s.jsx)(n.th,{children:"Event Arguments"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BeforeConnect"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BeforeConnectEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"HiveMQClientOptions"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AfterConnect"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"AfterConnectEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ConnectResult"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BeforeSubscribe"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BeforeSubscribeEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SubscribeOptions"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AfterSubscribe"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"AfterSubscribeEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SubscribeResult"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BeforeUnsubscribe"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BeforeUnsubscribeEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"UnsubscribeOptions"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AfterUnsubscribe"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"AfterUnsubscribeEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"UnsubscribeResult"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnMessageReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnMessageReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"MQTT5PublishMessage"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"packet-level",children:"Packet Level"}),"\n",(0,s.jsx)(n.p,{children:"These events happen based on MQTT packet activity."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Event"}),(0,s.jsx)(n.th,{children:"EventArgs Class"}),(0,s.jsx)(n.th,{children:"Event Arguments"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnConnectSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnConnectSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ConnectPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnConnAckReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnConnAckReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ConnAckPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnConnectSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnConnectSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ConnectPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnDisconnectReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnDisconnectReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DisconnectPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnDisconnectSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnDisconnectSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DisconnectPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPingReqSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPingReqSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PingReqPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPingRespReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPingRespReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PingRespPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPublishSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPublishSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PublishPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPublishReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPublishReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PublishPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubAckSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubAckSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubAckPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubAckReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubAckReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubAckPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubRecSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubRecSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubRecPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubRecReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubRecReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubRecPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubRelSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubRelSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubRelPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubRelReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubRelReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubRelPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubCompSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubCompSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubCompPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnPubCompReceived"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnPubCompReceivedEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PubCompPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnSubscribeSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnSubscribeSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SubscribePacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnSubAckSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnSubAckSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SubAckPacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnUnsubscribeSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnUnsubscribeSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"UnsubscribePacket"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OnUnsubAckSent"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"OnUnsubAckSentEventArgs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"UnsubAckPacket"})})]})]})]}),"\n",(0,s.jsx)(n.h1,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/hivemq/hivemq-mqtt-client-dotnet/blob/main/Documentation/Examples.md",children:"Examples"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>r});var s=t(7294);const i={},c=s.createContext(i);function r(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);